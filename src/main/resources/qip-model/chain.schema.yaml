---
$id: http://qubership.org/schemas/product/qip/chain.schema.yaml
$schema: http://json-schema.org/draft-07/schema
type: object
title: Chain
group: Integrations
allOf:
  - $ref: "base.schema.yaml#/definitions/CommonTopLevelEntityProperties"
properties:
  content:
    type: object
    allOf:
      - $ref: "base.schema.yaml#/definitions/CommonEntityContent"
      - $ref: "base.schema.yaml#/definitions/WithLabels"
      - $ref: "base.schema.yaml#/definitions/WithMigrations"
    properties:
      businessDescription:
        type: string
      assumptions:
        type: string
      outOfScope:
        type: string
      maskingEnabled:
        type: boolean
      maskedFields:
        type: array
        items:
          $ref: "#/definitions/MaskedField"
      elements:
        type: array
        items:
          $ref: "#/definitions/ChainElement"
      dependencies:
        type: array
        items:
          $ref: "#/definitions/Dependency"
      deployments:
        type: array
        items:
          $ref: "#/definitions/Deployment"
      deployAction:
        $ref: "#/definitions/DeployAction"
required:
  - content
definitions:
  MaskedField:
    type: object
    properties:
      id:
        type: string
      name:
        type: string
    additionalProperties: false
    required:
      - name
  Dependency:
    type: object
    properties:
      from:
        type: string
      to:
        type: string
    additionalProperties: false
    required:
      - from
      - to
  DeployAction:
    enum:
      - DEPLOY
      - SNAPSHOT
      - NONE
  Deployment:
    type: object
    properties:
      domain:
        type: string
    additionalProperties: false
    required:
      - domain
  ChainElement:
    type: object
    required:
      - id
      - name
      - type
      - properties
    oneOf:
      - $ref: 'element/async-api-trigger.schema.yaml'
      - $ref: 'element/chain-call-2.schema.yaml'
      - $ref: 'element/chain-trigger-2.schema.yaml'
      - $ref: 'element/checkpoint.schema.yaml'
      - $ref: 'element/circuit-breaker-2.schema.yaml'
      - $ref: 'element/condition.schema.yaml'
      - $ref: 'element/file-read.schema.yaml'
      - $ref: 'element/file-write.schema.yaml'
      - $ref: 'element/graphql-sender.schema.yaml'
      - $ref: 'element/header-modification.schema.yaml'
      - $ref: 'element/http-sender.schema.yaml'
      - $ref: 'element/http-trigger.schema.yaml'
      - $ref: 'element/kafka-sender-2.schema.yaml'
      - $ref: 'element/kafka-trigger-2.schema.yaml'
      - $ref: 'element/log-record.schema.yaml'
      - $ref: 'element/loop-2.schema.yaml'
      - $ref: 'element/mail-sender.schema.yaml'
      - $ref: 'element/mapper-2.schema.yaml'
      - $ref: 'element/pubsub-sender.schema.yaml'
      - $ref: 'element/pubsub-trigger.schema.yaml'
      - $ref: 'element/quartz-scheduler.schema.yaml'
      - $ref: 'element/rabbitmq-sender-2.schema.yaml'
      - $ref: 'element/rabbitmq-trigger-2.schema.yaml'
      - $ref: 'element/reuse-reference.schema.yaml'
      - $ref: 'element/reuse.schema.yaml'
      - $ref: 'element/script.schema.yaml'
      - $ref: 'element/service-call.schema.yaml'
      - $ref: 'element/sftp-download.schema.yaml'
      - $ref: 'element/sftp-trigger-2.schema.yaml'
      - $ref: 'element/sftp-upload.schema.yaml'
      - $ref: 'element/split-2.schema.yaml'
      - $ref: 'element/split-async-2.schema.yaml'
      - $ref: 'element/swimlane.schema.yaml'
      - $ref: 'element/try-catch-finally-2.schema.yaml'
      - $ref: 'element/xslt.schema.yaml'
